#!/usr/bin/env ruby

require 'rubygems'
require "thor"
require_relative '../lib/slowlane/itunes/app.rb'
require_relative '../lib/slowlane/itunes/team.rb'
require_relative '../lib/slowlane/itunes/build.rb'
require_relative '../lib/slowlane/itunes/tester.rb'

class SlowlaneItunes < Thor

  class_option :username , :default => '<username>' , :required => true, :desc => 'username [SLOWLANE_ITUNES_USERNAME]'
  class_option :password , :default => '<password>' , :required => true, :desc => 'password [SLOWLANE_ITUNES_PASSWORD]'
  class_option :team , :default => '<team>' , :required => false, :desc => 'team [SLOWLANE_ITUNES_TEAM]'

  desc "app SUBCOMMAND ...ARGS", "manage apps"
  subcommand "app", Slowlane::Itunes::App

  desc "team SUBCOMMAND ...ARGS", "manage teams"
  subcommand "team", Slowlane::Itunes::Team

  desc "build SUBCOMMAND ...ARGS", "manage builds"
  subcommand "build", Slowlane::Itunes::Build

  desc "tester SUBCOMMAND ...ARGS", "manage builds"
  subcommand "tester", Slowlane::Itunes::Tester

end

SlowlaneItunes.start(ARGV)
